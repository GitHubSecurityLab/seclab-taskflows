# SPDX-FileCopyrightText: GitHub, Inc.
# SPDX-License-Identifier: MIT

seclab-taskflow-agent:
  filetype: taskflow
  version: "1.0"
model_config: seclab_taskflows.configs.model_config

globals:
  repo: 
  id: 
# Taskflow to audit some potential issues.
taskflow:
  - task:
      must_complete: true
      max_steps: 100
      agents:
        - seclab_taskflows.personalities.web_application_security_expert
      model: code_analysis
      user_prompt: |
        Fetch the issues in component with id {{ globals.id }} in the repo {{ globals.repo }}. Audit the first issue.

        {% include 'seclab_taskflows.prompts.audit.audit_issue' %}
      toolboxes:
        - seclab_taskflows.toolboxes.repo_context
        - seclab_taskflows.toolboxes.local_file_viewer